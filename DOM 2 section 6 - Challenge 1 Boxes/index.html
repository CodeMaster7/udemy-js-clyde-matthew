<!DOCTYPE html>
<html lang="en">
	<head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<table id="delegation_table">
			<tr>
				<th colspan="3"><em>Delegation</em> Table: Click to Change Color</th>
			</tr>
			<tr>
				<td><strong>1</strong></td>
				<td><strong>2</strong></td>
				<td><strong>3</strong></td>
			</tr>
			<tr>
				<td><strong>4</strong></td>
				<td><strong>5</strong></td>
				<td><strong>6</strong></td>
			</tr>
			<tr>
				<td><strong>7</strong></td>
				<td><strong>8</strong></td>
				<td><strong>9</strong></td>
			</tr>
        </table>

        <script>
            let selectedElement = null;

            // get our parent element
            let table = document.getElementById('delegation_table')
            // attach an event listener
            table.addEventListener('click', changeColor);
            // define our handler function
            function changeColor (e) {
                let target = e.target
                if (target.tagName != 'TD') {
                    // we want to do nothing
                    return
                } else {
                    highlight(target)
                }
            }

            function highlight (node) {
                // getting rid of the previously selected TD element highlight class
                if (selectedElement != null) {
                    selectedElement.classList.remove('highlight')
                }
                // assign the new TD element we've clicked on to the selectedElement variable
                selectedElement = node
                selectedElement.classList.add('highlight')
            }
        </script>
	</body>
</html>
