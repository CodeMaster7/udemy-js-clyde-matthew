<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Traverse the DOM</title>

        <style>
            * {
                border: 2px solid #dedede;
                padding: 15px;
                margin: 15px;
            }
            body {
                max-width: 600px;
                font-family: sans-serif;
                color: #333;
            }
        </style>
	</head>
	<body>
        <main>
            <h1>Welcome</h1>
            <!-- this is a comment node -->
            <div id="wrapper">
                <h2 class="sub-heading">Traversing the DOM</h2>
                <p>How do we do it?</p>
                <p>Stick around, and I'll show you</p>
            </div>

            <div id="wrapper2">
                <h2 class="joke">Joke of the day</h2>
                <p>What do you call fish with no eyes? ... Fish</p>
            </div>

            <ul>
                <li>Item 1</li>
                <li style="background-color: green;">Item 2</li>
                <li>Item 3</li>
            </ul>
        </main>

        <script>
            // access the parent
            let h2 = document.getElementsByClassName('joke')[0];
            console.log("h2", h2)
            let parent = h2.parentNode;
            console.log("parent", parent)
            parent.style.backgroundColor = 'yellow'
            // h2.parentNode;   // div parent
            // h2.parentNode.parentNode;  // main
            // h2.parentNode.parentNode.parentNode; // body

            // access the grandparent
            let div = document.getElementsByTagName('div')[0]; // get the very first div element
            let grandparent = div.parentNode.parentNode;
            console.log("grandparent", grandparent)
            grandparent.style.backgroundColor = 'blue'

            // access the children of the body
            let bodyChildren = document.body.children;
            console.log("bodyChildren", bodyChildren)
            for (let i = 0; i < bodyChildren.length; i++) {
                let child = bodyChildren[i]
                console.log("child", child)
                child.style.border = '5px solid red'
            }

            // access firstChild - lastchild and firstElementChild of a parent with no children
            let h1 = document.getElementsByTagName('h1')
            console.log("h1", h1);
            console.log(h1[0].children);
            console.log(h1[0].firstChild)  // Welcome
            console.log(h1[0].lastChild)  // Welcome
            console.log(h1[0].firstElementChild)  // null

            // childNodes returns a NodeList = includes all the text, character brackets returns ecc...
            let ul = document.getElementsByTagName('ul')[0];
            console.log("ul", ul)
            console.log(ul.childNodes)

            // 1st method but can only do it one at a time
            ul.firstElementChild.style.backgroundColor = 'red'

            // 2nd method children a HTMLCollection
            let ulChildren = ul.children;
            console.log("ulChildren", ulChildren)
            for (let i = 0; i < ulChildren.length; i++) {
                let li = ulChildren[i]
                console.log("li", li)
                li.style.border = '5px solid lightgreen'
            }

            // work with sibling methods
            let li_2 = document.getElementsByTagName('ul')[0];
            console.log("li_2", li_2);
            console.log(ul.children)

            let middle = ul.children[1]
            console.log("middle", middle);

            console.log('previous', middle.previousElementSibling);
            middle.previousElementSibling.style.border = '5px solid yellow'

            console.log('last', middle.nextElementSibling)
            middle.nextElementSibling.style.border = '5px solid orange'
        </script>
    </body>
</html>
